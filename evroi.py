# -*- coding: utf-8 -*-
"""
Created on Mon Mar  5 13:40:45 2018

@author: user
"""

th = """
PokerStars Hand #183372532209: Tournament #2238756323, $12.01+$12.01+$0.98 USD Hold'em No Limit - Level I (10/20) - 2018/03/04 21:40:49 MSK [2018/03/04 13:40:49 ET]
Table '2238756323 1' 6-max Seat #1 is the button
Seat 1: MagXedin (500 in chips)
Seat 2: leledoni (500 in chips)
Seat 3: TOTO220773 (500 in chips)
Seat 4: DiggErr555 (500 in chips)
Seat 5: kventin27 (435 in chips)
Seat 6: ppp1 (565 in chips)
MagXedin: posts the ante 2
leledoni: posts the ante 2
TOTO220773: posts the ante 2
DiggErr555: posts the ante 2
kventin27: posts the ante 2
leledoni: posts small blind 10
TOTO220773: posts big blind 20
*** HOLE CARDS ***
Dealt to DiggErr555 [As 8c]
DiggErr555: folds
kventin27: raises 478 to 498 and is all-in
MagXedin: folds
leledoni: folds
TOTO220773: folds
Uncalled bet (478) returned to kventin27
kventin27 collected 62 from pot
kventin27: doesn't show hand
*** SUMMARY ***
Total pot 62 | Rake 0
Seat 1: MagXedin (button) folded before Flop (didn't bet)
Seat 2: leledoni (small blind) folded before Flop
Seat 3: TOTO220773 (big blind) folded before Flop
Seat 4: DiggErr555 folded before Flop (didn't bet)
Seat 5: kventin27 collected (62)
"""
th2 = """
PokerStars Hand #183372024580: Tournament #2238741697, $12.01+$12.01+$0.98 USD Hold'em No Limit - Level III (20/40) - 2018/03/04 21:32:32 MSK [2018/03/04 13:32:32 ET]
Table '2238741697 1' 6-max Seat #2 is the button
Seat 1: kruibeke1 (519 in chips)
Seat 2: rofrof (748 in chips)
Seat 3: Gangster_056 (352 in chips)
Seat 4: MagXedin (504 in chips)
Seat 5: DiggErr555 (447 in chips)
Seat 6: Haarlem91 (430 in chips)
kruibeke1: posts the ante 4
rofrof: posts the ante 4
Gangster_056: posts the ante 4
MagXedin: posts the ante 4
DiggErr555: posts the ante 4
Haarlem91: posts the ante 4
Gangster_056: posts small blind 20
MagXedin: posts big blind 40
*** HOLE CARDS ***
Dealt to DiggErr555 [2c Ts]
DiggErr555: folds
Haarlem91: folds
kruibeke1: folds
rofrof: raises 704 to 744 and is all-in
Gangster_056: calls 328 and is all-in
MagXedin: folds
Uncalled bet (396) returned to rofrof
*** FLOP *** [Qc 3d Qd]
*** TURN *** [Qc 3d Qd] [4d]
*** RIVER *** [Qc 3d Qd 4d] [9s]
*** SHOW DOWN ***
Gangster_056: shows [6c Ad] (a pair of Queens)
rofrof: shows [2h Ah] (a pair of Queens - lower kicker)
Gangster_056 collected 760 from pot
*** SUMMARY ***
Total pot 760 | Rake 0
Board [Qc 3d Qd 4d 9s]
Seat 1: kruibeke1 folded before Flop (didn't bet)
Seat 2: rofrof (button) showed [2h Ah] and lost with a pair of Queens
Seat 3: Gangster_056 (small blind) showed [6c Ad] and won (760) with a pair of Queens
Seat 4: MagXedin (big blind) folded before Flop
Seat 5: DiggErr555 folded before Flop (didn't bet)
Seat 6: Haarlem91 folded before Flop (didn't bet)
"""

th3 = """
PokerStars Hand #183372024580: Tournament #2238741697, $12.01+$12.01+$0.98 USD Hold'em No Limit - Level III (20/40) - 2018/03/04 21:32:32 MSK [2018/03/04 13:32:32 ET]
Table '2238741697 1' 6-max Seat #2 is the button
Seat 1: kruibeke1 (515 in chips)
Seat 2: rofrof (396 in chips)
Seat 3: Gangster_ (760 in chips)
Seat 4: MagXedin (460 in chips)
Seat 5: DiggErr555 (443 in chips)
Seat 6: Haarlem91 (426 in chips)
kruibeke1: posts the ante 4
rofrof: posts the ante 4
Gangster_056: posts the ante 4
MagXedin: posts the ante 4
DiggErr555: posts the ante 4
Haarlem91: posts the ante 4
Gangster_056: posts small blind 20
MagXedin: posts big blind 40
*** HOLE CARDS ***
Dealt to DiggErr555 [2c Ts]
DiggErr555: folds
Haarlem91: folds
kruibeke1: folds
rofrof: raises 704 to 744 and is all-in
Gangster_056: calls 328 and is all-in
MagXedin: folds
Uncalled bet (396) returned to rofrof
*** FLOP *** [Qc 3d Qd]
*** TURN *** [Qc 3d Qd] [4d]
*** RIVER *** [Qc 3d Qd 4d] [9s]
*** SHOW DOWN ***
Gangster_056: shows [6c Ad] (a pair of Queens)
rofrof: shows [2h Ah] (a pair of Queens - lower kicker)
Gangster_056 collected 760 from pot
*** SUMMARY ***
Total pot 760 | Rake 0
Board [Qc 3d Qd 4d 9s]
Seat 1: kruibeke1 folded before Flop (didn't bet)
Seat 2: rofrof (button) showed [2h Ah] and lost with a pair of Queens
Seat 3: Gangster_056 (small blind) showed [6c Ad] and won (760) with a pair of Queens
Seat 4: MagXedin (big blind) folded before Flop
Seat 5: DiggErr555 folded before Flop (didn't bet)
Seat 6: Haarlem91 folded before Flop (didn't bet)
"""

th4 = """
PokerStars Hand #183372024580: Tournament #2238741697, $12.01+$12.01+$0.98 USD Hold'em No Limit - Level III (20/40) - 2018/03/04 21:32:32 MSK [2018/03/04 13:32:32 ET]
Table '2238741697 1' 6-max Seat #2 is the button
Seat 1: kruibeke1 (515 in chips)
Seat 2: rofrof (964 in chips)
Seat 3: Gangster_ (192 in chips)
Seat 4: MagXedin (460 in chips)
Seat 5: DiggErr555 (443 in chips)
Seat 6: Haarlem91 (426 in chips)
kruibeke1: posts the ante 4
rofrof: posts the ante 4
Gangster_056: posts the ante 4
MagXedin: posts the ante 4
DiggErr555: posts the ante 4
Haarlem91: posts the ante 4
Gangster_056: posts small blind 20
MagXedin: posts big blind 40
*** HOLE CARDS ***
Dealt to DiggErr555 [2c Ts]
DiggErr555: folds
Haarlem91: folds
kruibeke1: folds
rofrof: raises 704 to 744 and is all-in
Gangster_056: calls 328 and is all-in
MagXedin: folds
Uncalled bet (396) returned to rofrof
*** FLOP *** [Qc 3d Qd]
*** TURN *** [Qc 3d Qd] [4d]
*** RIVER *** [Qc 3d Qd 4d] [9s]
*** SHOW DOWN ***
Gangster_056: shows [6c Ad] (a pair of Queens)
rofrof: shows [2h Ah] (a pair of Queens - lower kicker)
Gangster_056 collected 760 from pot
*** SUMMARY ***
Total pot 760 | Rake 0
Board [Qc 3d Qd 4d 9s]
Seat 1: kruibeke1 folded before Flop (didn't bet)
Seat 2: rofrof (button) showed [2h Ah] and lost with a pair of Queens
Seat 3: Gangster_056 (small blind) showed [6c Ad] and won (760) with a pair of Queens
Seat 4: MagXedin (big blind) folded before Flop
Seat 5: DiggErr555 folded before Flop (didn't bet)
Seat 6: Haarlem91 folded before Flop (didn't bet)
"""

th5 = """
PokerStars Hand #183372024580: Tournament #2238741697, $12.01+$12.01+$0.98 USD Hold'em No Limit - Level III (20/40) - 2018/03/04 21:32:32 MSK [2018/03/04 13:32:32 ET]
Table '2238741697 1' 6-max Seat #2 is the button
Seat 1: kruibeke1 (515 in chips)
Seat 2: rofrof (1156 in chips)
Seat 4: MagXedin (460 in chips)
Seat 5: DiggErr555 (443 in chips)
Seat 6: Haarlem91 (426 in chips)
kruibeke1: posts the ante 4
rofrof: posts the ante 4
Gangster_056: posts the ante 4
MagXedin: posts the ante 4
Haarlem91: posts the ante 4
DiggErr555: posts small blind 20
MagXedin: posts big blind 40
*** HOLE CARDS ***
Dealt to DiggErr555 [2c Ts]
DiggErr555: folds
Haarlem91: folds
kruibeke1: folds
rofrof: raises 704 to 744 and is all-in
Gangster_056: calls 328 and is all-in
MagXedin: folds
Uncalled bet (396) returned to rofrof
*** FLOP *** [Qc 3d Qd]
*** TURN *** [Qc 3d Qd] [4d]
*** RIVER *** [Qc 3d Qd 4d] [9s]
*** SHOW DOWN ***
Gangster_056: shows [6c Ad] (a pair of Queens)
rofrof: shows [2h Ah] (a pair of Queens - lower kicker)
Gangster_056 collected 760 from pot
*** SUMMARY ***
Total pot 760 | Rake 0
Board [Qc 3d Qd 4d 9s]
Seat 1: kruibeke1 folded before Flop (didn't bet)
Seat 2: rofrof (button) showed [2h Ah] and lost with a pair of Queens
Seat 3: Gangster_056 (small blind) showed [6c Ad] and won (760) with a pair of Queens
Seat 4: MagXedin (big blind) folded before Flop
Seat 5: DiggErr555 folded before Flop (didn't bet)
Seat 6: Haarlem91 folded before Flop (didn't bet)
"""

th6 = """
PokerStars Hand #183457256798: Tournament #2240613609, $4.79+$4.79+$0.42 USD Hold'em No Limit - Level IV (30/60) - 2018/03/06 17:23:51 MSK [2018/03/06 9:23:51 ET]
Table '2240613609 1' 6-max Seat #2 is the button
Seat 2: dripp12 (650 in chips)
Seat 5: Jurij503 (2014 in chips)
Seat 6: DiggErr555 (336 in chips)
dripp12: posts the ante 6
Jurij503: posts the ante 6
DiggErr555: posts the ante 6
Jurij503: posts small blind 30
DiggErr555: posts big blind 60
*** HOLE CARDS ***
Dealt to DiggErr555 [Jc 9s]
dripp12: raises 358 to 418 and is all-in
Jurij503: folds
DiggErr555: calls 358
*** FLOP *** [3d 3s Ad]
*** TURN *** [3d 3s Ad] [6s]
*** RIVER *** [3d 3s Ad 6s] [4s]
*** SHOW DOWN ***
DiggErr555: shows [Jc 9s] (a pair of Threes)
dripp12: shows [Jd Ac] (two pair, Aces and Threes)
dripp12 collected 884 from pot
*** SUMMARY ***
Total pot 884 | Rake 0
Board [3d 3s Ad 6s 4s]
Seat 2: dripp12 (button) showed [Jd Ac] and won (884) with two pair, Aces and Threes
Seat 5: Jurij503 (small blind) folded before Flop
Seat 6: DiggErr555 (big blind) showed [Jc 9s] and lost with a pair of Threes
"""

th7="""
PokerStars Hand #183224201103: Tournament #2235436538, $24.02+$24.02+$1.96 USD Hold'em No Limit - Level IV (30/60) - 2018/03/01 22:09:07 MSK [2018/03/01 14:09:07 ET]
Table '2235436538 1' 6-max Seat #2 is the button
Seat 4: DiggErr555 (1249 in chips)
Seat 5: kacsan8698 (981 in chips)
Seat 6: finec2009 (770 in chips)
sdykuzbass: posts the ante 6
oposs153: posts the ante 6
DiggErr555: posts the ante 6
kacsan8698: posts the ante 6
finec2009: posts the ante 6
oposs153: posts small blind 30
DiggErr555: posts big blind 60
*** HOLE CARDS ***
Dealt to DiggErr555 [Kh 3h]
kacsan8698: folds
finec2009: folds
sdykuzbass: raises 120 to 180
oposs153: raises 89 to 269 and is all-in
DiggErr555: raises 445 to 714 and is all-in
sdykuzbass: calls 56 and is all-in
Uncalled bet (445) returned to DiggErr555
*** FLOP *** [4h 3c Th]
*** TURN *** [4h 3c Th] [Jh]
*** RIVER *** [4h 3c Th Jh] [8c]
*** SHOW DOWN ***
oposs153: shows [Ad 7s] (high card Ace)
DiggErr555: shows [Kh 3h] (a flush, King high)
DiggErr555 collected 66 from side pot
sdykuzbass: shows [6s Ac] (high card Ace)
DiggErr555 collected 738 from main pot
DiggErr555 wins the $24.02 bounty for eliminating sdykuzbass
DiggErr555 wins the $24.02 bounty for eliminating oposs153
oposs153 finished the tournament in 4th place
sdykuzbass finished the tournament in 5th place
*** SUMMARY ***
Total pot 804 Main pot 738. Side pot 66. | Rake 0
Board [4h 3c Th Jh 8c]
Seat 2: sdykuzbass (button) showed [6s Ac] and lost with high card Ace
Seat 3: oposs153 (small blind) showed [Ad 7s] and lost with high card Ace
Seat 4: DiggErr555 (big blind) showed [Kh 3h] and won (804) with a flush, King high
Seat 5: kacsan8698 folded before Flop (didn't bet)
Seat 6: finec2009 folded before Flop (didn't bet)
"""

th8 = """
PokerStars Hand #182619832611: Tournament #2222083633, $4.79+$4.79+$0.42 USD Hold'em No Limit - Level VI (50/100) - 2018/02/17 6:53:40 MSK [2018/02/16 22:53:40 ET]
Table '2222083633 1' 6-max Seat #1 is the button
Seat 1: ppp (563 in chips)
Seat 2: DiggErr555 (959 in chips)
Seat 6: LibraCity (1478 in chips)
leledoni: posts the ante 10
DiggErr555: posts the ante 10
LibraCity: posts the ante 10
DiggErr555: posts small blind 50
LibraCity: posts big blind 100
*** HOLE CARDS ***
Dealt to DiggErr555 [Th Tc]
leledoni: raises 450 to 550
DiggErr555: raises 188 to 738 and is all-in
LibraCity: folds
leledoni: calls 104 and is all-in
Uncalled bet (84) returned to DiggErr555
*** FLOP *** [7h Qd 5d]
*** TURN *** [7h Qd 5d] [7c]
*** RIVER *** [7h Qd 5d 7c] [4s]
*** SHOW DOWN ***
DiggErr555: shows [Th Tc] (two pair, Tens and Sevens)
leledoni: shows [As 5s] (two pair, Sevens and Fives)
DiggErr555 collected 1438 from pot
DiggErr555 wins the $4.79 bounty for eliminating leledoni
leledoni finished the tournament in 3rd place
*** SUMMARY ***
Total pot 1438 | Rake 0
Board [7h Qd 5d 7c 4s]
Seat 1: leledoni (button) showed [As 5s] and lost with two pair, Sevens and Fives
Seat 2: DiggErr555 (small blind) showed [Th Tc] and won (1438) with two pair, Tens and Sevens
Seat 6: LibraCity (big blind) folded before Flop

"""

th9 = """
PokerStars Hand #181540811595: Tournament #2198016965, $4.79+$4.79+$0.42 USD Hold'em No Limit - Level III (20/40) - 2018/01/26 2:52:33 MSK [2018/01/25 18:52:33 ET]
Table '2198016965 1' 6-max Seat #6 is the button
Seat 1: Matto 23 (592 in chips)
Seat 3: federer1922 (1032 in chips)
Seat 4: hans1231 (816 in chips)
Seat 6: DiggErr555 (560 in chips)
Matto 23: posts the ante 4
DiggErr555: posts the ante 4
federer1922: posts the ante 4
hans1231: posts the ante 4
: posts the ante 4
Matto 23: posts small blind 20
DiggErr555: posts big blind 40
*** HOLE CARDS ***
Dealt to DiggErr555 [2s 2c]
federer1922: folds
hans1231: folds
DiggErr555: raises 229 to 269 and is all-in
Matto 23: folds
MissDulli: calls 211 and is all-in
Uncalled bet (18) returned to DiggErr555
*** FLOP *** [9h 5c 7c]
*** TURN *** [9h 5c 7c] [7h]
*** RIVER *** [9h 5c 7c 7h] [3c]
*** SHOW DOWN ***
MissDulli: shows [8s Jd] (a pair of Sevens)
DiggErr555: shows [2s 2c] (two pair, Sevens and Deuces)
DiggErr555 collected 542 from pot
DiggErr555 wins the $4.79 bounty for eliminating MissDulli
MissDulli finished the tournament in 5th place
*** SUMMARY ***
Total pot 542 | Rake 0
Board [9h 5c 7c 7h 3c]
Seat 1: Matto 23 (small blind) folded before Flop
Seat 2: MissDulli (big blind) showed [8s Jd] and lost with a pair of Sevens
Seat 3: federer1922 folded before Flop (didn't bet)
Seat 4: hans1231 folded before Flop (didn't bet)
Seat 6: DiggErr555 (button) showed [2s 2c] and won (542) with two pair, Sevens and Deuces

"""



import handhistory as hh
import numpy as np

avg_ko6 = []
avg_ko6.append(2+1/2+1/3+1/4+1/5)
avg_ko6.append(1/2+1/3+1/4+1/5)
avg_ko6.append(1/3+1/4+1/5)
avg_ko6.append(1/4+1/5)
avg_ko6.append(1/5)
avg_ko6.append(0)

avg_ko6= np.array(avg_ko6)

avg_ko5 = []
avg_ko5.append(2+1/2+1/3+1/4)
avg_ko5.append(1/2+1/3+1/4)
avg_ko5.append(1/3+1/4)
avg_ko5.append(1/4)
avg_ko5.append(0)
avg_ko5= np.array(avg_ko5)

avg_ko4 = []
avg_ko4.append(2+1/2+1/3)
avg_ko4.append(1/2+1/3)
avg_ko4.append(1/3)
avg_ko4.append(0)
avg_ko4= np.array(avg_ko4)

avg_ko3 = []
avg_ko3.append(2+1/2)
avg_ko3.append(1/2)
avg_ko3.append(0)
avg_ko3= np.array(avg_ko3)

avg_ko2 = []
avg_ko2.append(2)
avg_ko2.append(0)
avg_ko2= np.array(avg_ko2)

li1= []

#h1 = hh.Hand(th)
h1 = hh.Hand(th9)

for ind in range(h1.getPlayersNumber()):
    li= []
    li.append(h1.getStack(ind))
    for place in range(1, h1.getPlayersNumber()+1):
        li.append(h1.p1p(ind, place))
    li1.append(li)        
    
ar = np.array(li1)
#ar = ar.transpose()
np.set_printoptions(precision = 4, suppress = True)
#print(ar[:,1:])




ar = ar[:,1:]*avg_ko4
#print(ar)
print("KO")
print(np.sum(ar, 1))

print("Chips")
print(h1.getStackList())
print("ICM")
print(h1.icm_eq())

